<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/logo.png" />
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;700&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    
    <title>BYG Food</title>

    <script>
      // Check storage availability
      const isLocalStorageAvailable = (() => {
        try {
          localStorage.setItem('test', 'test');
          localStorage.removeItem('test');
          return true;
        } catch (e) {
          return false;
        }
      })();

      const isSessionStorageAvailable = (() => {
        try {
          sessionStorage.setItem('test', 'test');
          sessionStorage.removeItem('test');
          return true;
        } catch (e) {
          return false;
        }
      })();

      console.log('localStorage available:', isLocalStorageAvailable);
      console.log('sessionStorage available:', isSessionStorageAvailable);
    </script>
  </head>

  <body>
    <div id="root">Loading...</div>

    <script>
      // Ensure we're only scrolling when needed
      window.addEventListener('DOMContentLoaded', () => {
        if (window.scrollY !== 0) window.scrollTo(0, 0);
      });
    </script>

    <script type="module" src="/src/main.jsx?v=1.0.1"></script>

    <!-- Only load Paystack if localStorage is available -->
    <script>
      if (isLocalStorageAvailable) {
        const paystackScript = document.createElement('script');
        paystackScript.src = "https://js.paystack.co/v1/inline.js";
        paystackScript.async = true;
        document.body.appendChild(paystackScript);
      } else {
        console.warn('Paystack script not loaded â€” localStorage unavailable');
      }
    </script>
  </body>
</html>
